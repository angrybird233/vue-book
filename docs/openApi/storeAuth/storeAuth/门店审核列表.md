# 门店认证审核列表

开发者：caipeng

## 接口地址

`/open-api/v1/api/store-auth/authList`

## 请求方式

`POST`

## header请求参数
| 字段            | 类型   | 必填 | 描述                                           |
| --------------- | ------ | ---- | ---------------------------------- |
| sign | string  | 是  | 签名 |
| timestamp | string  | 是  | 时间戳 13位 |
## body请求参数

| 字段            | 类型   | 必填 | 描述                                           |
| --------------- | ------ | ---- | ---------------------------------- |
| store_code | array  | 是  | 门店code, 一维数组|
| page | string  | 是  | 页码 |
| page_size | string  |否 | 数据条数,最大1000条 |
| ka_domain | string  |否| ka的domain|


## 成功响应

| 字段       | 类型   | 描述       |
| ---------- | ------ | ---------- |
| status     | string | 状态       |
| httpCode   | int    | http状态码 |
| statusCode | int    | 状态码     |
| requestId  | string | 请求ID     |
| data       | array  | 返回数据   |

## 成功响应

| 字段       | 类型    | 描述        |
| ---------- | ------- | ----------- |
| status    | string  | 状态    |
| httpCode     | int  | http状态码    |
| statusCode | int  | 状态码 |
| requestId | string  | 请求ID |
| data  | array  | 返回数据      |

## 失败响应

| 字段       | 类型    | 描述        |
| ---------- | ------- | ----------- |
| status    | string  | 状态    |
| httpCode     | int  | http状态码    |
| statusCode | int  | 状态码 |
| requestId | string  | 请求ID |
| message  | string  | 错误信息      |

### data参数

| 字段 | 类型 | 描述 |
| --- | --- | --- |
| list | array | 数据列表 |
| meta | array | 分页信息 |

#### list参数

| 字段 | 类型 | 描述 |
| --- | --- | --- |
| store_code | string | 门店编码 |
| dealer_status | int | 经销商审核：1待审核、2通过、3驳回|
| customer_status | int | 客服审核：1待审核、2通过、3驳回 |
| reject_reason | string | 客服驳回原因 |
| dealer_audit_username | string | 经销商审核人 |
| customer_audit_username | string | 客服审核人 |
| dealer_reject | string | 经销商驳回原因，目前为空 |
| dealer_audit_time | string | 经销商审核时间|
| customers_audit_time | string | 客服审核时间 |


### meta参数

| 字段 | 类型 | 描述 |
| --- | --- | --- |
| current_page | int | 当前页码 |
| last_page | int | 总页数 |
| page_size | int | 每页条数 |
| total | int | 总条数 |

## 签名生成格式：
```
1.body里得值 以key正序排序
2.secretKey 对接双方约定的加密串
3.php生成签名方法:md5(secretKey+md5(json_encode(body))+timestamp)
php 示例：
ksort($data);
$sign = md5(sprintf("%s%s%s", $secret, md5(json_encode($data)), $timestamp));
```
## 返回结果预览

```json
{
    "status": "success",
    "httpCode": 200,
    "statusCode": 0,
    "data": {
        "list": [
            {
                "store_code": "1234",
                "store_name": "测试门店",
                "dealer_code": "78789878",
                "dealer_name": "28312",
                "taxpayer_number": "",
                "dealer_status": "通过",
                "ocr_recognition": "识别成功",
                "customer_status": "通过",
                "authentication": "壳牌合作",
                "reject_reason": "",
                "customer_audit_username": ""
            }
        ],
        "meta": {
            "current_page": 1,
            "last_page": 1,
            "page_size": 10,
            "total": 1
        }
    }
}
```